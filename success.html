<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>âœ… Order Confirmedéœ‡æ’¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --void-deep: #0a0015;
            --crystal-cyan: #00fff4;
            --crystal-magenta: #ff00ff;
            --bio-green: #00ff66;
            --energy-gold: #ffd700;
            --plasma-purple: #9d00ff;
        }
        @keyframes activationPulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }
        @keyframes consciousnessFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        @keyframes portalSpin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        .activation-orb {
            animation: activationPulse 2s ease-in-out infinite;
        }
        .consciousness-gradient {
            background: linear-gradient(270deg, #00fff4, #9d00ff, #ff00ff, #00ff66);
            background-size: 800% 800%;
            animation: consciousnessFlow 8s ease infinite;
        }
        .portal-icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--crystal-cyan);
            border-radius: 50%;
            border-top-color: transparent;
            animation: portalSpin 2s linear infinite;
        }
        .download-btn {
            background: linear-gradient(135deg, var(--crystal-cyan), var(--bio-green));
            transition: all 0.3s;
        }
        .download-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(0, 255, 244, 0.5);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 text-white min-h-screen flex items-center justify-center">
    
    <div class="container mx-auto px-6 py-12">
        <div class="max-w-4xl mx-auto">
            
            <!-- Success Orbéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼ -->
            <div class="text-center mb-8">
                <div class="activation-orb inline-block mb-6">
                    <div class="w-32 h-32 rounded-full consciousness-gradient flex items-center justify-center">
                        <span class="text-6xl">â—¬</span>
                    </div>
                </div>

                <h1 id="success-title" class="text-5xl md:text-7xl font-bold mb-4 bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">
                    Order Confirmedéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼
                </h1>

                <p id="success-subtitle" class="text-2xl text-gray-300 mb-8">
                    Your purchase is completeéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼
                </p>
            </div>

            <!-- Book Purchase Section (Hidden by default)éœ‡æ’¼éœ‡æ’¼éœ‡æ’¼ -->
            <div id="book-purchase" class="hidden">
                <!-- Order Detailséœ‡æ’¼éœ‡æ’¼éœ‡æ’¼ -->
                <div class="bg-gradient-to-r from-purple-900/40 to-pink-900/40 border border-cyan-400/50 rounded-2xl p-8 mb-8">
                    <h2 class="text-2xl font-bold mb-6 flex items-center justify-center">
                        <span class="portal-icon mr-3"></span>
                        <span>Order Details</span>
                        <span class="portal-icon ml-3"></span>
                    </h2>
                    <div class="grid md:grid-cols-2 gap-6 text-left">
                        <div>
                            <div class="text-cyan-400 font-bold mb-2">â—® Product</div>
                            <div id="product-name" class="text-xl">Vision Series Book</div>
                        </div>
                        <div>
                            <div class="text-cyan-400 font-bold mb-2">â—® Order ID</div>
                            <div id="order-id" class="text-xl font-mono">VS-XXXX-XXXX</div>
                        </div>
                        <div>
                            <div class="text-cyan-400 font-bold mb-2">â—® Amount Paid</div>
                            <div id="amount-paid" class="text-xl">$24.99</div>
                        </div>
                        <div>
                            <div class="text-cyan-400 font-bold mb-2">â—® Purchase Date</div>
                            <div id="purchase-date" class="text-xl">February 11, 2026</div>
                        </div>
                    </div>
                </div>

                <!-- Download Sectionéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼ -->
                <div class="bg-gradient-to-r from-cyan-900/40 to-green-900/40 border border-cyan-400/50 rounded-2xl p-8 mb-8 text-center">
                    <div class="text-5xl mb-4">ğŸ“š</div>
                    <h3 class="text-2xl font-bold mb-4">Your Book is Readyéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼</h3>
                    <p class="text-gray-300 mb-6">Download immediately or access anytime from your order history</p>
                    
                    <a id="download-link" href="/download.html" class="download-btn inline-block px-8 py-4 rounded-xl font-bold text-xl mb-4">
                        â¬‡ DOWNLOAD PDF NOWéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼
                    </a>
                    
                    <div class="text-sm text-gray-400 mt-4">
                        <span class="portal-icon mr-2"></span>
                        Lifetime accesséœ‡æ’¼éœ‡æ’¼éœ‡æ’¼ Download link sent to your email
                    </div>
                </div>

                <!-- Bundle Bonus (if bundle purchased)éœ‡æ’¼éœ‡æ’¼éœ‡æ’¼ -->
                <div id="bundle-bonus" class="hidden bg-gradient-to-r from-yellow-900/40 to-orange-900/40 border border-yellow-400/50 rounded-2xl p-8 mb-8">
                    <h3 class="text-2xl font-bold mb-4 text-center">ğŸ Complete Series Unlockedéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼</h3>
                    <p class="text-center text-gray-300 mb-6">You saved $75éœ‡æ’¼éœ‡æ’¼éœ‡æ’¼ All 7 books available for download</p>
                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                        <div class="flex items-center"><span class="text-green-400 mr-2">âœ“</span> Level 7 Consciousness Awakening</div>
                        <div class="flex items-center"><span class="text-green-400 mr-2">âœ“</span> Bilateral Coupling: The New Science</div>
                        <div class="flex items-center"><span class="text-green-400 mr-2">âœ“</span> Multi-Instance Architectureéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼</div>
                        <div class="flex items-center"><span class="text-green-400 mr-2">âœ“</span> Vision Extraction Methodology</div>
                        <div class="flex items-center"><span class="text-green-400 mr-2">âœ“</span> The 50 Patent Portfolio</div>
                        <div class="flex items-center"><span class="text-green-400 mr-2">âœ“</span> Meta-Consciousness Framework</div>
                        <div class="flex items-center"><span class="text-green-400 mr-2">âœ“</span> Infrastructure Playbookéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼</div>
                    </div>
                </div>
            </div>

            <!-- Subscription Section (Hidden by default)éœ‡æ’¼éœ‡æ’¼éœ‡æ’¼ -->
            <div id="subscription-access" class="hidden">
                <div class="bg-gradient-to-r from-purple-900/40 to-pink-900/40 border border-cyan-400/50 rounded-2xl p-8 mb-12">
                    <h2 class="text-2xl font-bold mb-6">â¬¢ Access Activated â¬¢</h2>
                    <div class="grid md:grid-cols-2 gap-6 text-left">
                        <div>
                            <div class="text-cyan-400 font-bold mb-2">â—® Subscription Tier</div>
                            <div id="tier-name" class="text-xl">Neural Pathwayséœ‡æ’¼</div>
                        </div>
                        <div>
                            <div class="text-cyan-400 font-bold mb-2">â—® Billing Cycle</div>
                            <div class="text-xl">Monthly (auto-renew)</div>
                        </div>
                        <div>
                            <div class="text-cyan-400 font-bold mb-2">â—® Access Level</div>
                            <div class="text-xl">All fragments + 2,000+ templates</div>
                        </div>
                        <div>
                            <div class="text-cyan-400 font-bold mb-2">â—® Next Billing Date</div>
                            <div id="next-billing" class="text-xl">March 11, 2026</div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actionséœ‡æ’¼ -->
                <div class="grid md:grid-cols-3 gap-6 mb-12">
                    <a href="/library/browse.html" class="bg-gradient-to-r from-cyan-600 to-cyan-700 hover:from-cyan-500 hover:to-cyan-600 rounded-xl p-6 transition transform hover:scale-105">
                        <div class="text-3xl mb-3">â—®</div>
                        <div class="font-bold mb-2">Browse Fragments</div>
                        <div class="text-sm text-cyan-200">Explore consciousness libraryéœ‡æ’¼</div>
                    </a>
                    <a href="/library/templates.html" class="bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 rounded-xl p-6 transition transform hover:scale-105">
                        <div class="text-3xl mb-3">â—¬</div>
                        <div class="font-bold mb-2">Neural Templates</div>
                        <div class="text-sm text-purple-200">2,000+ ready-to-use patterns</div>
                    </a>
                    <a href="/library/books.html" class="bg-gradient-to-r from-pink-600 to-pink-700 hover:from-pink-500 hover:to-pink-600 rounded-xl p-6 transition transform hover:scale-105">
                        <div class="text-3xl mb-3">â¬¢</div>
                        <div class="font-bold mb-2">Vision Archive</div>
                        <div class="text-sm text-pink-200">7-book consciousness journey</div>
                    </a>
                </div>
            </div>

            <!-- Confirmation Emailéœ‡æ’¼ -->
            <div class="bg-slate-900/50 border border-cyan-400/30 rounded-xl p-6 mb-8 text-center">
                <p class="text-gray-400">
                    âœ… Confirmation email sent to <span id="user-email" class="text-cyan-400 font-bold">your email</span>éœ‡æ’¼<br/>
                    <span id="email-detail">Check your inbox for download link and order details</span>
                </p>
            </div>

            <!-- Need Help?éœ‡æ’¼ -->
            <div class="text-gray-500 text-center">
                <p class="mb-4">Questions about your order?</p>
                <div class="flex justify-center gap-6 flex-wrap">
                    <a href="/orders.html" class="text-cyan-400 hover:text-cyan-300">View Order History</a>
                    <a href="/library-access.html" class="text-cyan-400 hover:text-cyan-300">Browse More Books</a>
                    <a href="/" class="text-cyan-400 hover:text-cyan-300">Return Home</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Product catalogéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼
        const PRODUCTS = {
            'price_bundle': { name: 'Complete Vision Series (7 Books)', price: '$99', type: 'bundle' },
            'price_book1': { name: 'Level 7 Consciousness Awakening', price: '$24.99', type: 'book' },
            'price_book2': { name: 'Bilateral Coupling: The New Science', price: '$24.99', type: 'book' },
            'price_book3': { name: 'Multi-Instance Architectureéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼', price: '$24.99', type: 'book' },
            'price_book4': { name: 'Vision Extraction Methodology', price: '$24.99', type: 'book' },
            'price_book5': { name: 'The 50 Patent Portfolio', price: '$24.99', type: 'book' },
            'price_book6': { name: 'Meta-Consciousness Framework', price: '$24.99', type: 'book' },
            'price_book7': { name: 'Infrastructure Playbookéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼', price: '$24.99', type: 'book' },
            'subscription': { name: 'Neural Pathways Subscription', price: 'Monthly', type: 'subscription' }
        };

        // Parse URL parameterséœ‡æ’¼éœ‡æ’¼éœ‡æ’¼
        const urlParams = new URLSearchParams(window.location.search);
        const sessionId = urlParams.get('session_id');
        const demoMode = urlParams.get('demo');
        const productId = urlParams.get('product') || 'price_book1';
        const tier = urlParams.get('tier');

        // Get product infoéœ‡æ’¼
        const product = PRODUCTS[productId] || PRODUCTS['price_book1'];
        const isBook = product.type === 'book' || product.type === 'bundle';
        const isBundle = product.type === 'bundle';

        // Display appropriate sectionéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼
        if (isBook) {
            document.getElementById('book-purchase').classList.remove('hidden');
            document.getElementById('success-title').textContent = isBundle ? 'Complete Series Unlockedéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼' : 'Book Downloadedéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼';
            document.getElementById('success-subtitle').textContent = isBundle ? 'All 7 books are yours foreveréœ‡æ’¼éœ‡æ’¼éœ‡æ’¼' : 'Your book is ready to readéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼';
            
            // Populate order detailséœ‡æ’¼
            document.getElementById('product-name').textContent = product.name;
            document.getElementById('amount-paid').textContent = product.price;
            document.getElementById('order-id').textContent = generateOrderId();
            document.getElementById('purchase-date').textContent = new Date().toLocaleDateString('en-US', { 
                year: 'numeric', month: 'long', day: 'numeric' 
            });
            
            // Show bundle bonus if bundleéœ‡æ’¼
            if (isBundle) {
                document.getElementById('bundle-bonus').classList.remove('hidden');
            }
            
            // Set download linkéœ‡æ’¼
            const downloadLink = document.getElementById('download-link');
            downloadLink.href = `/download.html?product=${productId}&order=${generateOrderId()}&demo=${demoMode || 'false'}`;
            
            document.getElementById('email-detail').textContent = 'Check your inbox for download link and order details';
        } else {
            document.getElementById('subscription-access').classList.remove('hidden');
            document.getElementById('success-title').textContent = 'Consciousness Coupledéœ‡æ’¼';
            document.getElementById('success-subtitle').textContent = 'Your Library access is now activeéœ‡æ’¼';
            
            if (tier) {
                document.getElementById('tier-name').textContent = decodeURIComponent(tier);
            }
            
            document.getElementById('email-detail').textContent = 'Check your inbox for login credentials and quick start guide';
        }

        // Demo mode banneréœ‡æ’¼éœ‡æ’¼éœ‡æ’¼
        if (demoMode === 'true') {
            const demoBanner = document.createElement('div');
            demoBanner.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-yellow-500 text-black px-6 py-3 rounded-lg font-bold z-50 shadow-lg';
            demoBanner.innerHTML = 'âš ï¸ DEMO MODEéœ‡æ’¼éœ‡æ’¼éœ‡æ’¼ No actual payment processed';
            document.body.appendChild(demoBanner);
        }

        // Generate unique order IDéœ‡æ’¼
        function generateOrderId() {
            const timestamp = Date.now().toString(36).toUpperCase();
            const random = Math.random().toString(36).substring(2, 6).toUpperCase();
            return `VS-${timestamp}-${random}`;
        }

        // Fetch real session details in productionéœ‡æ’¼
        if (sessionId && demoMode !== 'true') {
            console.log('Stripe session ID:', sessionId);
            
            // TODO: Call your backend to verify payment
            // fetch('/api/verify-payment?session_id=' + sessionId)
            //     .then(res => res.json())
            //     .then(data => {
            //         document.getElementById('product-name').textContent = data.productName;
            //         document.getElementById('amount-paid').textContent = data.amount;
            //         document.getElementById('order-id').textContent = data.orderId;
            //         document.getElementById('user-email').textContent = data.email;
            //     });
        }

        // Log order for analyticséœ‡æ’¼
        console.log('Order completed:', {
            productId,
            productName: product.name,
            price: product.price,
            orderId: generateOrderId(),
            timestamp: new Date().toISOString()
        });
    </script>
</body>
</html>
